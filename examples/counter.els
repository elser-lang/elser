(ns counter (:pragma "0.8.29"))

(storage
 {:external
  [(def count [(x mut :u256)])]})

(functions
 {:external
  [
   (defn get [] (-> [(c mut :u256)])
     (-> c (sto read! count)))

   (defn inc [] (-> [])
     (let [c (sto read! count)]
       (sto write! count (+ c 1))))

   (defn dec [] (-> [])
     (let [c (sto read! count)]
       (sto write! count (- c 1))))
   ]})
